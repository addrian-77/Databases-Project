<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/homepage_style.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'img/favicon.ico' %}">
    <script type="text/javascript" src="{% static 'js/map-imports/mapdata.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/map-imports/worldmap.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/homepage.js' %}"></script>
    <title>Homepage - Water Conservation</title>
</head>

<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about/">About</a></li>
            <li><a href="/watertips/">Water Tips</a></li>
            <li><a href="/projects/">Projects</a></li>
            <li><a href="/technologies/">Technologies</a></li>
            {% if user.is_authenticated %}
                <li class="login"><a href="/logout/">Log out</a></li>
                <li class="login"><a href="/profile/">{{ user.username }}</a></li>
            {% else %}
                <li class="login"><a href="/login/">Log in</a></li>
            {% endif %}
        </ul>
    </nav>

    <!-- The Map Div -->
    <div class="map-container">
        <div id="mapdiv">
            <div id="map"></div>

            <!-- Popup -->
            <span id="popup" class="popup" style="display: none;">
                <span id="popup-content">
                    <!-- <script>homepage_database_caller.get_country_data();</script> -->
                </span>
                <span class="close" onclick="closePopup()">X</span>
            </span>
        </div>
    </div>

    <!-- Information Cards -->
    <div class="info-section">
        <div class="row">
            <div class="col">
                <h3>Countries with the Most Technologies</h3>
                <p>Here will be a dynamically generated leaderboard table.</p>
            </div>
            <div class="col">
                <h3>Most Water Saved</h3>
                <p>Another leaderboard table here.</p>
            </div>
        </div>

        <div class="row">
            <h3>Most Popular Water Technologies</h3>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>Â© 2025 Water Conservation Project</p>
    </footer>

</body>

<script>
    map_click_behaviour();
    closePopupOnOutsideClick();
    handleScrollBehavior();
</script>

</html>
